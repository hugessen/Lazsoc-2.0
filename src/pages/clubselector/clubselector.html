<ion-header>
  <ion-navbar color="laz-purple">
    <img src="assets/img/gold_leaf.png" class="titleicon"/>
    <ion-buttons end>
        <button ion-button (click)="savePrefs()"><b>Save</b></button>
    </ion-buttons>
  </ion-navbar>
  <ion-toolbar color="laz-purple" style="height:42px" class="newsfeed-toolbar">
    <ion-segment style="background-color:rgba(66,44,137,1)" [(ngModel)]="view" color="pure-white">
        <ion-segment-button value="clubs">
            Clubs
        </ion-segment-button>
        <ion-segment-button value="interests">
            Interests
        </ion-segment-button>
        <ion-segment-button value="personalinfo">
            Personal Info
        </ion-segment-button>
      </ion-segment>
    </ion-toolbar>
</ion-header>

<!-- See newsfeed.html comments for insight on how ngSwitch works -->
<ion-content>
    <div [ngSwitch]="view"> 
        <div *ngSwitchCase="'clubs'">
            <ion-list-header>Subscribe to clubs here</ion-list-header>
            <div class="flexbox" ion-list>
                <div class="selectionbox" *ngFor="let club of clubs">
                    <div class="infobox" (click)="viewClub(club)"><img src="assets/img/info-icon.png"></div>
                    <div>
                        <img src="assets/img/{{club.app_logo}}" (click)="toggle(club.id)" 
                        [ngClass]="{'checked-clubs-page': prefs.clubPrefs.hasOwnProperty(club.id.toString()) && prefs.clubPrefs[club.id.toString()].selected, 
                        'unchecked-clubs-page':prefs.clubPrefs.hasOwnProperty(club.id.toString()) && !prefs.clubPrefs[club.id.toString()].selected}">
                    </div>
                </div>
            </div>
        </div>
        <div *ngSwitchCase="'interests'">
            <ion-list-header>What are you interested in?</ion-list-header>
            <ion-card>
                <ion-list>
                    <ion-item *ngFor="let interest of interests">
                        <ion-label>{{interest.name}}</ion-label>
                        <ion-toggle laz-purple [(ngModel)]="prefs.interestPrefs[interest.name].selected"></ion-toggle>
                    </ion-item>
                </ion-list>
            </ion-card>
        </div>
        <div *ngSwitchCase="'personalinfo'">
            <personal-info></personal-info>
        </div>
    </div>
</ion-content>